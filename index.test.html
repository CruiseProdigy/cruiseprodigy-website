<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CruiseProdigy v.5.65 | Standardized Intelligence Hub</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,500;0,600;1,400&family=Montserrat:wght@400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Inter', 'sans-serif'], 
                        'Montserrat': ['Montserrat', 'sans-serif'],
                        'Poppins': ['Poppins', 'sans-serif']
                    },
                    colors: { 
                        azure: '#003B5C', coral: '#FF7043', mist: '#E0F7FA', lagoon: '#00838F', sand: '#F5F5F5', slate: '#546E7A', 
                        carnivalRed: '#D32F2F', royalBlue: '#0055A5', nclAqua: '#00A3E0', princessBlue: '#0072CE', celebrityNavy: '#002859',
                        mscGold: '#D4AF37', virginRed: '#E10A1D', halGold: '#C5A059', vikingNavy: '#002F6C', cunardRed: '#B22222'
                    }
                }
            }
        }
    </script>
   <link rel="stylesheet" href="css/main.css">
</head>
<body class="bg-sand font-sans text-azure selection:bg-coral selection:text-white antialiased">
<script>
    // Password protection check
    if (sessionStorage.getItem('authenticated') !== 'true') {
        window.location.href = 'password-gate.html';
    }
</script>
  <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-azure text-white px-6 py-3 z-[200] rounded-lg font-bold shadow-2xl ring-4 ring-coral transition-all">Skip to Main Content</a>

  <nav class="hidden md:flex items-center justify-between pl-6 pr-16 py-4 bg-glass-premium w-full fixed top-0 z-[100] shadow-sm" aria-label="Main Navigation">
    <a href="index.html" class="flex flex-col items-start group focus:outline-none focus:ring-2 focus:ring-coral rounded-lg p-1">
      <div class="text-4xl font-['Poppins'] tracking-tight leading-none mb-1">
          <span class="font-normal text-lagoon">Cruise</span><span class="font-medium text-azure">Prodigy</span>
      </div>
      <span class="text-xs font-semibold text-azure uppercase tracking-[0.2em] text-left ml-1 font-['Poppins']">Cruise Like A Genius.</span>
    </a>
    
    <div class="flex space-x-14 text-azure font-semibold text-xs uppercase tracking-[0.2em]">
      <a href="#vibe-explorer" class="hover:text-coral transition-colors p-2 rounded-lg">Explorer</a>
      <a href="#fleet-intelligence" class="hover:text-coral transition-colors p-2 rounded-lg">Fleet</a>
      <a href="#mission-essentials" class="hover:text-coral transition-colors p-2 rounded-lg">Essentials</a>
    </div>
    
    <button class="bg-azure text-white px-10 py-3.5 rounded-full font-black text-xs uppercase tracking-widest shadow-xl hover:bg-coral transition-all transform hover:scale-105">Join Community</button>
  </nav>

  <main id="main-content">
      <header class="relative flex flex-col items-center justify-center px-4 pt-40 pb-20 text-center overflow-hidden bg-white">
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-mist rounded-full blur-[120px] -z-10 opacity-40"></div>
        <h1 class="text-5xl md:text-7xl font-black text-azure mb-12 font-['Montserrat'] tracking-tighter leading-[0.9]">Find Your <br><span class="text-lagoon">Perfect Voyage.</span></h1>
        
        <div class="w-full max-w-3xl bg-white p-2 rounded-full shadow-premium flex flex-col md:flex-row items-center border border-gray-50 relative z-10">
            <label for="hero-search-input" class="sr-only">Search for Destination or Ship</label>
            <input type="text" id="hero-search-input" placeholder="Enter Destination or Ship..." class="flex-1 w-full px-6 py-3 text-lg outline-none rounded-full font-medium placeholder:text-slate/70 text-azure" />
            <button onclick="document.getElementById('weather-ribbon').scrollIntoView({behavior: 'smooth'})" class="w-full md:w-auto bg-azure text-white px-8 py-3 rounded-full font-black text-sm shadow-lg hover:bg-coral transition-all uppercase tracking-[0.2em]">Initiate Search</button>
        </div>
      </header>

      <section id="weather-ribbon" class="sticky-ribbon py-1 px-10 bg-azure text-white shadow-2xl mt-[-1px]">
        <div id="weather-art-bg" class="weather-art" aria-hidden="true"></div>
        <div class="max-w-7xl mx-auto flex flex-col lg:flex-row items-center justify-between gap-8 relative z-10">
            
            <button onclick="openWeatherDeepLink()" class="flex items-center space-x-8 cursor-pointer p-2 rounded-2xl hover:bg-white/5 transition-all group w-full lg:w-auto text-left focus:outline-none focus:ring-2 focus:ring-coral" aria-label="Open detailed weather report">
                <div class="flex items-start space-x-3">
                    <div class="pt-1.5">
                        <div class="w-2 h-2 bg-coral rounded-full pulse-red"></div>
                    </div>
                    <div class="flex flex-col items-start">
                        <span class="text-sm font-black uppercase tracking-[0.3em] text-mist/80 group-hover:text-white transition-colors mb-0.5">Maritime Intel Hub</span>
                        <h2 id="hub-city" class="text-2xl font-bold font-['Montserrat'] tracking-tighter leading-none uppercase text-left">Locating...</h2>
                    </div>
                </div>
                <div class="flex items-center space-x-6 border-l border-white/10 pl-8">
                    <span id="temp-val" class="text-4xl font-bold font-['Montserrat']">--¬∞</span>
                    <div class="hidden sm:block">
                        <p id="condition-text" class="text-[10px] font-black uppercase tracking-widest text-mist">Syncing Data...</p>
                        <div class="flex space-x-4 mt-1">
                            <p class="text-[10px] font-bold text-white/70 italic">WIND: <span id="wind-val" class="text-white not-italic">--</span></p>
                            <p class="text-[10px] font-bold text-white/70 italic">UV: <span id="uv-val" class="text-white not-italic">--</span></p>
                        </div>
                    </div>
                </div>
            </button>

<div id="forecast-container" class="flex items-center space-x-5 lg:space-x-8 overflow-x-auto no-scrollbar border-l border-white/10 pl-8 w-full lg:w-auto py-2" aria-label="5 Day Forecast">                <div class="text-center min-w-[60px]"><p id="f1-date" class="text-[10px] font-black opacity-60 uppercase tracking-widest mb-1">--</p><div id="f1-icon" class="text-xl" aria-hidden="true">‚è≥</div><p class="text-sm font-black mt-1"><span id="f1-high">--</span>¬∞</p></div>
                <div class="text-center min-w-[60px]"><p id="f2-date" class="text-[10px] font-black opacity-60 uppercase tracking-widest mb-1">--</p><div id="f2-icon" class="text-xl" aria-hidden="true">‚è≥</div><p class="text-sm font-black mt-1"><span id="f2-high">--</span>¬∞</p></div>
                <div class="text-center min-w-[60px]"><p id="f3-date" class="text-[10px] font-black opacity-60 uppercase tracking-widest mb-1">--</p><div id="f3-icon" class="text-xl" aria-hidden="true">‚è≥</div><p class="text-sm font-black mt-1"><span id="f3-high">--</span>¬∞</p></div>
                <div class="text-center min-w-[60px]"><p id="f4-date" class="text-[10px] font-black opacity-60 uppercase tracking-widest mb-1">--</p><div id="f4-icon" class="text-xl" aria-hidden="true">‚è≥</div><p class="text-sm font-black mt-1"><span id="f4-high">--</span>¬∞</p></div>
                <div class="text-center min-w-[60px]"><p id="f5-date" class="text-[10px] font-black opacity-60 uppercase tracking-widest mb-1">--</p><div id="f5-icon" class="text-xl" aria-hidden="true">‚è≥</div><p class="text-sm font-black mt-1"><span id="f5-high">--</span>¬∞</p></div>
                
                <div class="text-center min-w-[100px] sm:hidden flex flex-col justify-center space-y-1">
                    <p class="text-[11px] font-bold text-white/80 leading-tight">WIND <span id="wind-val-mobile" class="text-white">--</span></p>
                    <p class="text-[11px] font-bold text-white/80 leading-tight">UV <span id="uv-val-mobile" class="text-white">--</span></p>
                </div>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <label for="port-search" class="sr-only">Search Port Intel</label>
                    <input id="port-search" type="text" placeholder="Scan Port Intel..." class="bg-white/10 text-white placeholder-white/70 rounded-xl px-5 py-3 text-xs font-bold outline-none w-64 border border-white/10 focus:bg-white focus:text-azure transition-all">
                    <button onclick="fetchByPort()" aria-label="Search" class="absolute right-2 top-2 bg-coral text-white p-2 rounded-lg hover:bg-white hover:text-azure transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg></button>
                </div>
                <button onclick="fetchByGPS()" aria-label="Use Current GPS Location" class="text-[10px] font-black uppercase tracking-[0.2em] bg-white/5 px-5 py-3 rounded-xl border border-white/10 hover:bg-white/20 transition-all">GPS</button>
            </div>
        </div>
      </section>

      <section id="vibe-explorer" class="py-20 px-10 bg-mist/30">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-black text-azure font-['Montserrat'] tracking-tighter mb-3 leading-none">Choose Your Path</h2>
                <p class="text-base md:text-lg text-slate/70 font-medium max-w-2xl mx-auto">Start by destination, ship type, or cruise style ‚Äî we'll guide you to the perfect match</p>
            </div>
            
            <div class="flex flex-col lg:flex-row items-end justify-between mb-12 gap-8">
                <div>
                    <h3 class="text-3xl md:text-4xl font-black text-azure font-['Montserrat'] tracking-tighter uppercase mb-3 leading-none">Vibe Explorer</h3>
                    <p id="deck-label" class="text-sm font-black text-lagoon uppercase tracking-[0.5em] opacity-60">Active Deck: Destinations</p>
                </div>
                <div id="deck-buttons-container" class="flex bg-white/50 p-2 rounded-3xl shadow-premium border border-white/40 deck-buttons-initial" role="tablist" aria-label="Content Categories">
                    <button onclick="switchTab('destinations')" id="btn-destinations" role="tab" aria-selected="true" aria-controls="tab-destinations" class="px-10 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all bg-azure text-white shadow-xl"><span class="deck-icon" aria-hidden="true">üåç</span>Destinations</button>
                    <button onclick="switchTab('ships')" id="btn-ships" role="tab" aria-selected="false" aria-controls="tab-ships" class="px-10 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all text-azure/50 hover:text-azure"><span class="deck-icon" aria-hidden="true">üö¢</span>Ships</button>
                    <button onclick="switchTab('styles')" id="btn-styles" role="tab" aria-selected="false" aria-controls="tab-styles" class="px-10 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all text-azure/50 hover:text-azure"><span class="deck-icon" aria-hidden="true">‚ú®</span>Cruise Styles</button>
                </div>
            </div>
            
            <div id="tab-destinations" role="tabpanel" aria-labelledby="btn-destinations" class="tab-content grid grid-cols-1 md:grid-cols-3 gap-12 active-tab-grid">
                <a href="dest-caribbean-mexico.html" id="card-caribbean-mexico" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1548574505-5e239809ee19?auto=format&fit=crop&w=1200&q=95" alt="Caribbean Beach" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Caribbean & Mexico</span>
                </a>
                <a href="dest-mediterranean.html" id="card-mediterranean" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1516483638261-f4dbaf036963?auto=format&fit=crop&w=1200&q=95" alt="Mediterranean Coast" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Mediterranean</span>
                </a>
                <a href="dest-bahamas.html" id="card-bahamas" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1580541631950-7282082b53ce?auto=format&fit=crop&w=1200&q=95" alt="Bahamas Crystal Waters" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Bahamas</span>
                </a>
                <a href="dest-alaska.html" id="card-alaska" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&w=1200&q=95" alt="Alaskan Landscape" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Alaska</span>
                </a>
                <a href="dest-canada-newengland.html" id="card-canada-newengland" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1508739773434-c26b3d09e071?auto=format&fit=crop&w=1200&q=95" alt="Fall Foliage New England" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Canada & New England</span>
                </a>
                <a href="dest-pacific-coast.html" id="card-pacific-coast" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1506929562872-bb421503ef21?auto=format&fit=crop&w=1200&q=95" alt="Pacific Coast Sunset" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Pacific Coast</span>
                </a>
            </div>
            <!-- All Destinations Button - Below Grid -->
            <div id="destinations-all-btn" class="flex justify-center mt-8">
                <a href="dest-directory.html" class="inline-flex items-center px-12 py-5 bg-white border-2 border-azure/20 rounded-full font-black text-azure text-sm uppercase tracking-[0.2em] hover:bg-azure hover:text-white hover:border-azure transition-all shadow-md focus:ring-4 focus:ring-coral">
                    All Destinations <span class="ml-3">‚Üí</span>
                </a>
            </div>

            <div id="tab-ships" role="tabpanel" aria-labelledby="btn-ships" class="tab-content hidden grid-cols-1 md:grid-cols-3 gap-12">
                <a href="ship-family.html" id="card-ship-family" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1540555700478-4be289fbecef?auto=format&fit=crop&w=1200&q=95" alt="Family playing on ship" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Family & Kids</span>
                </a>
                <a href="ship-mega.html" id="card-ship-mega" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1548574505-5e239809ee19?auto=format&fit=crop&w=1200&q=95" alt="Large cruise ship" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Mega-Ships</span>
                </a>
                <a href="ship-midsize.html" id="card-ship-midsize" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?auto=format&fit=crop&w=1200&q=95" alt="Mid-size cruise ship" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Mid-Size Ships</span>
                </a>
                <a href="ship-premium.html" id="card-ship-premium" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1200&q=95" alt="Premium cruise experience" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Premium Ships</span>
                </a>
                <a href="ship-luxury.html" id="card-ship-luxury" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1565538810643-b5bdb714032a?auto=format&fit=crop&w=1200&q=95" alt="Luxury yacht" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Luxury Ships</span>
                </a>
                <a href="ship-adults.html" id="card-ship-adults" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?auto=format&fit=crop&w=1200&q=95" alt="Adults relaxing" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Adults-Only</span>
                </a>
            </div>
            <!-- All Ships Button - Below Grid -->
            <div id="ships-all-btn" class="hidden justify-center mt-8">
                <a href="ship-directory.html" class="inline-flex items-center px-12 py-5 bg-white border-2 border-azure/20 rounded-full font-black text-azure text-sm uppercase tracking-[0.2em] hover:bg-azure hover:text-white hover:border-azure transition-all shadow-md focus:ring-4 focus:ring-coral">
                    All Ship Types <span class="ml-3">‚Üí</span>
                </a>
            </div>

            <div id="tab-styles" role="tabpanel" aria-labelledby="btn-styles" class="tab-content hidden grid-cols-1 md:grid-cols-3 gap-12">
                <a href="style-family.html" id="card-style-family" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1511895426328-dc8714191300?auto=format&fit=crop&w=1200&q=95" alt="Family vacation" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Family Vacations</span>
                </a>
                <a href="style-romantic.html" id="card-style-romantic" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1507504031003-b417219a0fde?auto=format&fit=crop&w=1200&q=95" alt="Couple at sunset" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Romantic Getaways</span>
                </a>
                <a href="style-adventure.html" id="card-style-adventure" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1551632811-561732d1e306?auto=format&fit=crop&w=1200&q=95" alt="Adventure hiking" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Adventure Seekers</span>
                </a>
                <a href="style-relaxation.html" id="card-style-relaxation" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1544161515-4ab6ce6db874?auto=format&fit=crop&w=1200&q=95" alt="Spa relaxation" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Relaxation & Wellness</span>
                </a>
                <a href="style-casino.html" id="card-style-casino" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1511193311914-0346f16efe90?auto=format&fit=crop&w=1200&q=95" alt="Casino nightlife" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/40"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Casino & Nightlife</span>
                </a>
                <a href="style-solo.html" id="card-style-solo" class="group relative aspect-video rounded-[2.5rem] overflow-hidden shadow-premium hover:-translate-y-3 transition-all focus:ring-4 focus:ring-coral">
                    <img src="https://images.unsplash.com/photo-1501555088652-021faa106b9b?auto=format&fit=crop&w=1200&q=95" alt="Solo traveler" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 duration-700">
                    <div class="absolute inset-0 bg-black/30"></div>
                    <span class="absolute bottom-10 left-10 text-white font-black text-2xl uppercase font-['Montserrat'] tracking-tighter">Solo Travelers</span>
                </a>
            </div>
            <!-- All Styles Button - Below Grid -->
            <div id="styles-all-btn" class="hidden justify-center mt-8">
                <a href="style-directory.html" class="inline-flex items-center px-12 py-5 bg-white border-2 border-azure/20 rounded-full font-black text-azure text-sm uppercase tracking-[0.2em] hover:bg-azure hover:text-white hover:border-azure transition-all shadow-md focus:ring-4 focus:ring-coral">
                    All Cruise Styles <span class="ml-3">‚Üí</span>
                </a>
            </div>
        </div>
      </section>

      <section id="fleet-intelligence" class="py-20 bg-white overflow-hidden select-none">
        <div class="max-w-7xl mx-auto px-10 mb-12 flex justify-between items-end">
            <div>
                <h2 class="text-5xl font-black text-azure font-['Montserrat'] uppercase tracking-tighter leading-none mb-4">Fleet Intelligence</h2>
                <p class="text-sm font-bold text-slate uppercase tracking-[0.4em] opacity-40">Tactical Asset Deployment</p>
            </div>
            <div class="hidden md:flex space-x-6">
                <button onclick="scrollFleet(-1)" aria-label="Scroll Fleet List Left" class="bg-sand hover:bg-azure hover:text-white text-azure w-12 h-12 rounded-full flex items-center justify-center transition shadow-premium border border-gray-100"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7"/></svg></button>
                <button onclick="scrollFleet(1)" aria-label="Scroll Fleet List Right" class="bg-sand hover:bg-azure hover:text-white text-azure w-12 h-12 rounded-full flex items-center justify-center transition shadow-premium border border-gray-100"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7"/></svg></button>
            </div>
        </div>
        
        <div id="slider" class="flex overflow-x-auto pb-16 space-x-12 px-10 no-scrollbar cursor-grab md:justify-start focus:outline-none focus:ring-2 focus:ring-coral rounded-xl" tabindex="0" role="region" aria-label="Fleet List">
            <a href="pages/cruise-lines/line-disney.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-azure" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C7.03 2 3 6.03 3 11c0 3.1 1.58 5.84 4 7.42V22l4-2 4 2v-3.58c2.42-1.58 4-4.32 4-7.42 0-4.97-4.03-9-9-9z"/></svg>
                    <span class="font-black text-azure text-2xl font-['Montserrat'] tracking-tighter uppercase">Disney Cruise</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-royal.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-royalBlue" viewBox="0 0 24 24" fill="currentColor"><path d="M5 16L3 5l5.5 5L12 4l3.5 6L21 5l-2 11H5zm14 3c0 .6-.4 1-1 1H6c-.6 0-1-.4-1-1v-1h14v1z"/></svg>
                    <span class="font-black text-royalBlue text-2xl font-['Montserrat'] tracking-tighter uppercase">Royal Caribbean</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-carnival.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-carnivalRed" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L4 12h16L12 2zm0 18l-8-8h16l-8 8z"/></svg>
                    <span class="font-black text-carnivalRed text-2xl font-['Montserrat'] tracking-tighter uppercase">Carnival</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-norwegian.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-nclAqua" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>
                    <span class="font-black text-nclAqua text-2xl font-['Montserrat'] tracking-tighter uppercase">Norwegian</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-princess.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-princessBlue" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg>
                    <span class="font-black text-princessBlue text-2xl font-['Montserrat'] tracking-tighter uppercase">Princess</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-celebrity.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-celebrityNavy" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                    <span class="font-black text-celebrityNavy text-2xl font-['Montserrat'] tracking-tighter uppercase">Celebrity</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-msc.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-mscGold" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l2.4 7.4h7.6l-6.2 4.5 2.4 7.4-6.2-4.5-6.2 4.5 2.4-7.4-6.2-4.5h7.6z"/></svg>
                    <span class="font-black text-mscGold text-2xl font-['Montserrat'] tracking-tighter uppercase">MSC Cruises</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-virgin.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-virginRed" viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                    <span class="font-black text-virginRed text-2xl font-['Montserrat'] tracking-tighter uppercase">Virgin Voyages</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-holland.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-halGold" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10zm0 18c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8zm-1-13h2v10h-2V7z"/></svg>
                    <span class="font-black text-halGold text-2xl font-['Montserrat'] tracking-tighter uppercase">Holland America</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-viking.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-vikingNavy" viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg>
                    <span class="font-black text-vikingNavy text-2xl font-['Montserrat'] tracking-tighter uppercase">Viking</span>
                </div>
            </a>
            <a href="pages/cruise-lines/line-cunard.html" target="_blank" rel="sponsored noopener" class="flex-shrink-0 card-3d focus:outline-none focus:ring-4 focus:ring-coral rounded-[2.5rem]">
                <div class="w-80 h-56 bg-white rounded-[2.5rem] shadow-premium flex flex-col items-center justify-center p-10 border border-gray-50 text-center">
                    <svg class="w-12 h-12 mb-6 text-cunardRed" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
                    <span class="font-black text-cunardRed text-2xl font-['Montserrat'] tracking-tighter uppercase">Cunard</span>
                </div>
            </a>
        </div>

        <div class="max-w-7xl mx-auto px-10 grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-gray-100 pt-12">
            <div class="bg-sand/40 rounded-[2rem] p-8 flex items-center justify-between group hover:bg-white hover:shadow-premium transition-all">
                <div class="flex-1">
                    <h4 class="text-xs font-black text-lagoon uppercase tracking-[0.3em] mb-2">Port Intelligence</h4>
                    <p class="text-xl font-black font-['Montserrat'] uppercase tracking-tight mb-1">Port Guides</p>
                    <p class="text-[10px] text-slate font-bold uppercase opacity-50 leading-relaxed">Essential destination maps, local tips, <br>and docking information.</p>
                </div>
                <a href="port-guides-hub.html" class="bg-azure text-white px-8 py-4 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-coral transition-all focus:ring-4 focus:ring-coral">Explore Guides</a>
            </div>
            <div class="bg-sand/40 rounded-[2rem] p-8 flex items-center justify-between group hover:bg-white hover:shadow-premium transition-all">
                <div class="flex-1">
                    <h4 class="text-xs font-black text-azure uppercase tracking-[0.3em] mb-2">Adventure Intel</h4>
                    <p class="text-xl font-black font-['Montserrat'] uppercase tracking-tight mb-1">Shore Excursions</p>
                    <p class="text-[10px] text-slate font-bold uppercase opacity-50 leading-relaxed">Verified local operators, activity logs, <br>and excursion data.</p>
                </div>
                <a href="shore-excursions-hub.html" class="bg-azure text-white px-8 py-4 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-coral transition-all focus:ring-4 focus:ring-coral">Find Tours</a>
            </div>
            <div class="bg-sand/40 rounded-[2rem] p-8 flex items-center justify-between group hover:bg-white hover:shadow-premium transition-all">
                <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-2">
                        <span class="w-2 h-2 bg-coral rounded-full pulse-red"></span>
                        <h4 class="text-xs font-black text-coral uppercase tracking-[0.3em]">Live Feed</h4>
                    </div>
                    <p class="text-xl font-black font-['Montserrat'] uppercase tracking-tight mb-1">Cruise News</p>
                    <p class="text-[10px] text-slate font-bold uppercase opacity-50 leading-relaxed">Real-time alerts on weather, travel <br>disruptions, and industry trends.</p>
                </div>
                <a href="cruise-news-hub.html" class="bg-azure text-white px-8 py-4 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-coral transition-all focus:ring-4 focus:ring-coral">Read Alerts</a>
            </div>
        </div>
      </section>

      <section id="field-reports" class="py-20 bg-azure text-white relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-full opacity-5 pointer-events-none bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"></div>
        <div class="max-w-7xl mx-auto px-10 relative z-10"> 
            <div class="mb-12">
                <h2 class="text-5xl font-black text-white font-['Montserrat'] uppercase tracking-tighter leading-none mb-4">Field Reports</h2>
                <p class="text-sm font-bold text-white uppercase tracking-[0.4em] opacity-40">Real Reviews. Trusted Voices.</p>
            </div>
            
            <div class="text-center max-w-4xl mx-auto mb-12">
                <h3 class="text-xl md:text-2xl font-bold font-['Montserrat'] italic leading-relaxed">
                    &ldquo;We believe every voice matters, <br>
                    <span class="text-lagoon">but we give the crown to those who were there.&rdquo;</span>
                </h3>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12 text-left">
                <div class="flex flex-col items-start">
                    <div class="w-16 h-16 bg-coral rounded-2xl flex items-center justify-center mb-8 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                    </div>
                    <h4 class="text-2xl font-black font-['Montserrat'] mb-4"><span class="text-coral">"Elite"</span> Verified Status</h4>
                    <p class="text-white/70 text-sm leading-relaxed font-medium">The Gold Standard. Simply upload a photo from the ship to earn the <strong class="text-white">Elite Badge</strong>. Our system uses GPS and timestamps to verify your presence instantly.</p>
                </div>
                 <div class="flex flex-col items-start">
                    <div class="w-16 h-16 bg-lagoon rounded-2xl flex items-center justify-center mb-8 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                    </div>
                    <h4 class="text-2xl font-black font-['Montserrat'] mb-4">Zero-Friction Community</h4>
                    <p class="text-white/70 text-sm leading-relaxed font-medium">Every cruiser has a story. Our <strong class="text-white">Community Reviews</strong> allow for quick, easy sharing without the paperwork. Great for volume; honest by design.</p>
                </div>
                 <div class="flex flex-col items-start">
                    <div class="w-16 h-16 bg-lagoon rounded-2xl flex items-center justify-center mb-8 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 002 2h2a2 2 0 002-2z"/></svg>
                    </div>
                    <h4 class="text-2xl font-black font-['Montserrat'] mb-4">The Weighted Leaderboard</h4>
                    <p class="text-white/70 text-sm leading-relaxed font-medium">Not all stars are equal. Our ranking algorithm gives more weight to <strong class="text-white">Elite Reviews</strong>, ensuring the Ship Leaderboard reflects reality, not rumors.</p>
                </div>
            </div>
            <div class="text-center">
                <a href="#" class="inline-block bg-coral text-white px-12 py-5 rounded-full font-black text-xs uppercase tracking-widest shadow-xl hover:bg-white hover:text-coral transition-all transform hover:scale-105 focus:ring-4 focus:ring-white">Explore Elite Rankings</a>
            </div>
        </div>
      </section>

      <section id="mission-essentials" class="py-20 px-10 bg-sand">
        <div class="max-w-7xl mx-auto mb-12 text-left">
            <h2 class="text-5xl font-black text-azure font-['Montserrat'] mb-4 uppercase tracking-tighter">Mission Essentials</h2>
            <p class="text-sm font-bold text-slate uppercase tracking-[0.3em] opacity-40 mb-8">Standard Issue Cabin Augmentation</p>
            <p class="text-azure/60 text-xs italic font-medium">Affiliate Disclosure: Gear recommendations are mission-verified. Links may earn a commission at no cost to you.</p>
        </div>
        
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-16 mb-16">
          <div class="bg-white rounded-[3rem] p-6 shadow-premium flex flex-col h-full hover:shadow-2xl transition-all border border-gray-50">
              <div class="h-40 bg-gray-100 rounded-[2rem] mb-6 overflow-hidden"><img src="https://images.unsplash.com/photo-1585338665768-3c070c792138?auto=format&fit=crop&w=1200&q=95" class="w-full h-full object-cover" alt="Hooks"></div>
              <h3 class="text-xl font-black text-azure mb-3 uppercase font-['Montserrat'] tracking-tighter leading-none">Magnetic Hooks</h3>
              <p class="text-slate/60 text-xs font-medium mb-6 leading-relaxed">Maximize cabin square footage by utilizing vertical steel surfaces. Critical for high-density storage management.</p>
              <a href="#" target="_blank" rel="sponsored noopener" class="mt-auto w-full border-[2px] border-azure text-azure text-center font-black py-3 rounded-2xl hover:bg-azure hover:text-white transition uppercase text-[10px] tracking-[0.3em] focus:ring-4 focus:ring-coral">Mission-Approved</a>
          </div>
          <div class="bg-white rounded-[3rem] p-6 shadow-premium flex flex-col h-full hover:shadow-2xl transition-all border border-gray-50">
              <div class="h-40 bg-gray-100 rounded-[2rem] mb-6 overflow-hidden"><img src="https://images.unsplash.com/photo-1609091839311-d5365f9ff1c5?auto=format&fit=crop&w=1200&q=95" alt="Power"></div>
              <h3 class="text-xl font-black text-azure mb-3 uppercase font-['Montserrat'] tracking-tighter leading-none">Power Cell</h3>
              <p class="text-slate/60 text-xs font-medium mb-6 leading-relaxed">Ensure mission-critical uptime for mobile hardware during extended shore deployments. High-capacity rapid-sync capability.</p>
              <a href="#" target="_blank" rel="sponsored noopener" class="mt-auto w-full border-[2px] border-azure text-azure text-center font-black py-3 rounded-2xl hover:bg-azure hover:text-white transition uppercase text-[10px] tracking-[0.3em] focus:ring-4 focus:ring-coral">Mission-Approved</a>
          </div>
          <div class="bg-white rounded-[3rem] p-6 shadow-premium flex flex-col h-full hover:shadow-2xl transition-all border border-gray-50">
              <div class="h-40 bg-gray-100 rounded-[2rem] mb-6 overflow-hidden"><img src="https://images.unsplash.com/photo-1555685812-4b943f1cb0eb?auto=format&fit=crop&w=1200&q=95" alt="Ducks"></div>
              <h3 class="text-xl font-black text-azure mb-3 uppercase font-['Montserrat'] tracking-tighter leading-none">Cruising Ducks</h3>
              <p class="text-slate/60 text-xs font-medium mb-6 leading-relaxed">Standard issue identifiers for maritime community engagement and psychological operations on multi-deck environments.</p>
              <a href="#" target="_blank" rel="sponsored noopener" class="mt-auto w-full border-[2px] border-azure text-azure text-center font-black py-3 rounded-2xl hover:bg-azure hover:text-white transition uppercase text-[10px] tracking-[0.3em] focus:ring-4 focus:ring-coral">Mission-Approved</a>
          </div>
        </div>
        
        <div class="max-w-7xl mx-auto">
            <div class="bg-azure rounded-[3rem] p-10 shadow-premium flex flex-col md:flex-row items-center gap-16 border border-white/5 overflow-hidden relative">
                <div class="absolute top-0 right-0 w-full h-full opacity-10 pointer-events-none bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"></div>
                <div class="w-full md:w-1/2 aspect-square md:aspect-video rounded-[2rem] overflow-hidden shadow-2xl relative z-10">
                    <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=1200&q=95" class="w-full h-full object-cover" alt="Tactical Kit">
                </div>
                <div class="w-full md:w-1/2 relative z-10">
                    <div class="inline-block bg-coral text-white px-6 py-2 rounded-full font-black text-[10px] uppercase tracking-widest mb-6">High Impact Deployment</div>
                    <h3 class="text-4xl font-black text-white mb-6 uppercase font-['Montserrat'] tracking-tighter leading-none">First-Time <br>Cruiser Kit</h3>
                    <p class="text-white/60 text-lg font-medium mb-10 leading-relaxed">The definitive checklist for initial deployments. This loadout solves common friction points including power regulation, storage, and organizational logistics.</p>
                    <a href="#" target="_blank" rel="sponsored noopener" class="inline-block bg-white text-azure text-center font-black px-14 py-6 rounded-2xl hover:bg-coral hover:text-white transition-all uppercase text-xs tracking-[0.4em] shadow-xl focus:ring-4 focus:ring-coral">Kit Loadout</a>
                </div>
            </div>
        </div>
      </section>
  </main>

  <footer class="bg-azure text-white pt-16 pb-12 text-center">
    <div class="max-w-7xl mx-auto px-10 flex flex-col items-center">
        <div class="text-5xl font-['Poppins'] mb-6 tracking-tight">
            <span class="font-normal text-lagoon">Cruise</span><span class="font-medium text-white">Prodigy</span>
        </div>
        <p class="text-sm italic font-medium text-white/70 mb-12">Affiliate Disclosure: Outbound links on this page may earn a commission at no cost to you.</p>
        <p class="text-[10px] opacity-60 uppercase tracking-[0.5em]">¬© 2026 CruiseProdigy Interactive Maritime Intel</p>
    </div>
  </footer>

  <div id="followup-modal" class="modal-overlay hidden fixed inset-0 z-[9999] flex items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div id="modal-container" class="bg-white w-full max-w-2xl rounded-[2rem] p-8 md:p-12 shadow-2xl relative modal-content-anim">
          <h2 id="modal-title" class="text-3xl md:text-4xl font-black text-azure font-['Montserrat'] tracking-tighter mb-2 leading-none">Great choice!</h2>
          <p id="modal-subtitle" class="text-slate/70 font-medium mb-8">Want to narrow your search? Pick what matters most.</p>
          
          <div id="modal-options-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
              </div>

          <button id="modal-skip-btn" onclick="goToResults('all')" class="w-full py-5 rounded-2xl border-[4px] border-azure text-azure font-black text-sm uppercase tracking-[0.2em] hover:bg-azure hover:text-white transition-all focus:ring-4 focus:ring-coral">
              Skip - Show All <span id="skip-category-name"></span> Cruises
          </button>
      </div>
  </div>

  <script>
    const API_KEY = '63db0fe991cd41d4ae0195810260401';
    let currentLocationName = "Miami"; 
    
    // =================================================================
    // VIBE EXPLORER MODAL DATA - ALL THREE DECKS (UPDATED TAXONOMY)
    // =================================================================
    const modalData = {
        // ============================================================
        // DESTINATIONS DECK - 6 CATEGORIES
        // ============================================================
        'caribbean-mexico': {
            title: 'Caribbean & Mexico',
            options: [
                { label: 'Family Fun', value: 'family', desc: 'Kids clubs, waterslides, beaches', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶' },
                { label: 'Luxury & Relaxation', value: 'luxury', desc: 'Upscale, quiet, refined', icon: '‚ú®' },
                { label: 'Adventure', value: 'adventure', desc: 'Diving, snorkeling, zip-lining', icon: 'üèÉ' },
                { label: 'Party & Fun', value: 'party', desc: 'Nightlife, casinos, energy', icon: 'üéâ' },
                { label: 'Western Caribbean', value: 'western', desc: 'Cozumel, Honduras, Belize', icon: 'üó∫Ô∏è' },
                { label: 'Best Value', value: 'value', desc: 'Budget-friendly options', icon: 'üí∞' }
            ]
        },
        'mediterranean': {
            title: 'Mediterranean',
            options: [
                { label: 'Ancient History', value: 'history', desc: 'Rome, Greece, ruins', icon: 'üèõÔ∏è' },
                { label: 'Beach Towns', value: 'beach', desc: 'Islands, coastal villages', icon: 'üèñÔ∏è' },
                { label: 'Wine & Food', value: 'culinary', desc: 'Local cuisine, wine tours', icon: 'üç∑' },
                { label: 'First-Time Europe', value: 'firsttime', desc: 'Perfect intro to Europe', icon: 'üåç' },
                { label: 'Luxury Experience', value: 'luxury', desc: 'Upscale, exclusive ports', icon: '‚ú®' },
                { label: 'Best Value', value: 'value', desc: 'Budget-friendly options', icon: 'üí∞' }
            ]
        },
        'bahamas': {
            title: 'Bahamas',
            options: [
                { label: 'Short Getaway (3-4 Days)', value: 'short', desc: 'Quick escape from Florida', icon: '‚è±Ô∏è' },
                { label: 'Beach & Snorkeling', value: 'beach', desc: 'Crystal waters, marine life', icon: 'ü§ø' },
                { label: 'Family Fun', value: 'family', desc: 'Kid-friendly beaches, pools', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶' },
                { label: 'Budget-Friendly', value: 'budget', desc: 'Affordable getaways', icon: 'üí∞' },
                { label: 'Private Islands', value: 'private', desc: 'Perfect Day, Castaway Cay', icon: 'üèùÔ∏è' }
            ]
        },
        'alaska': {
            title: 'Alaska',
            options: [
                { label: 'Wildlife Viewing', value: 'wildlife', desc: 'Bears, whales, eagles', icon: 'üêª' },
                { label: 'Glacier Experience', value: 'glaciers', desc: 'Calving, ice fields', icon: 'üèîÔ∏è' },
                { label: 'Adventure', value: 'adventure', desc: 'Hiking, kayaking, active', icon: 'üö£' },
                { label: 'Luxury Cruising', value: 'luxury', desc: 'Small ships, upscale', icon: '‚ú®' },
                { label: 'Best Value', value: 'value', desc: 'Budget-friendly options', icon: 'üí∞' }
            ]
        },
        'canada-newengland': {
            title: 'Canada & New England',
            options: [
                { label: 'Fall Foliage', value: 'foliage', desc: 'Peak autumn colors', icon: 'üçÇ' },
                { label: 'Historic Cities', value: 'historic', desc: 'Quebec, Boston, Halifax', icon: 'üèõÔ∏è' },
                { label: 'Small Ship Charm', value: 'smallship', desc: 'Intimate ports, local feel', icon: '‚õµ' },
                { label: 'Luxury Experience', value: 'luxury', desc: 'Premium lines, upscale', icon: '‚ú®' },
                { label: 'First-Time Canada', value: 'firsttime', desc: 'Perfect intro to Canada', icon: 'üçÅ' },
                { label: 'Best Value', value: 'value', desc: 'Budget-friendly options', icon: 'üí∞' }
            ]
        },
        'pacific-coast': {
            title: 'Pacific Coast',
            options: [
                { label: 'Baja & Mexico', value: 'baja', desc: 'Cabo, Puerto Vallarta', icon: 'üá≤üáΩ' },
                { label: 'California Coast', value: 'california', desc: 'SF, LA, San Diego', icon: 'üå¥' },
                { label: 'Short Getaways', value: 'short', desc: '3-4 day coastal escapes', icon: '‚è±Ô∏è' },
                { label: 'Wine Country', value: 'wine', desc: 'Napa, coastal vineyards', icon: 'üç∑' },
                { label: 'Best Value', value: 'value', desc: 'Budget-friendly options', icon: 'üí∞' }
            ]
        },
        
        // ============================================================
        // SHIPS DECK - 6 CATEGORIES
        // ============================================================
        'ship-family': {
            title: 'Family & Kids Ships',
            options: [
                { label: 'Water Parks & Slides', value: 'waterparks', desc: 'Splash zones, aqua parks', icon: 'üåä' },
                { label: 'Kids Clubs', value: 'kidsclubs', desc: 'Age-specific programs', icon: 'üé®' },
                { label: 'Character Experiences', value: 'characters', desc: 'Disney, Nickelodeon', icon: 'üé≠' },
                { label: 'Multi-Gen Friendly', value: 'multigen', desc: 'Activities for all ages', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶' },
                { label: 'Budget-Friendly', value: 'budget', desc: 'Affordable family fun', icon: 'üí∞' }
            ]
        },
        'ship-mega': {
            title: 'Mega-Ships',
            options: [
                { label: 'Entertainment', value: 'entertainment', desc: 'Shows, Broadway, events', icon: 'üé≠' },
                { label: 'Activities', value: 'activities', desc: 'Sports, pools, slides', icon: 'üèä' },
                { label: 'Dining Variety', value: 'dining', desc: '20+ restaurants', icon: 'üçΩÔ∏è' },
                { label: 'First-Time Cruisers', value: 'firsttime', desc: 'Perfect intro to cruising', icon: 'üö¢' },
                { label: 'Nightlife', value: 'nightlife', desc: 'Bars, clubs, casinos', icon: 'üé∞' },
                { label: 'Best Value', value: 'value', desc: 'Most for your money', icon: 'üí∞' }
            ]
        },
        'ship-midsize': {
            title: 'Mid-Size Ships',
            options: [
                { label: 'Balanced Experience', value: 'balanced', desc: 'Best of both worlds', icon: '‚öñÔ∏è' },
                { label: 'Destination-Focused', value: 'destination', desc: 'More ports, less crowds', icon: 'üó∫Ô∏è' },
                { label: 'Classic Cruising', value: 'classic', desc: 'Traditional elegance', icon: 'üé©' },
                { label: 'Premium Service', value: 'premium', desc: 'Higher staff ratio', icon: 'üë®‚Äç‚úàÔ∏è' },
                { label: 'Best Value', value: 'value', desc: 'Quality at fair price', icon: 'üí∞' }
            ]
        },
        'ship-premium': {
            title: 'Premium Ships',
            options: [
                { label: 'Elevated Dining', value: 'dining', desc: 'Chef-driven restaurants', icon: 'üçΩÔ∏è' },
                { label: 'Refined Atmosphere', value: 'refined', desc: 'Sophisticated ambiance', icon: '‚ú®' },
                { label: 'Destination Excellence', value: 'destination', desc: 'Unique itineraries', icon: 'üó∫Ô∏è' },
                { label: 'Inclusive Perks', value: 'inclusive', desc: 'Drinks, WiFi, tips', icon: 'üéÅ' },
                { label: 'Best Value Premium', value: 'value', desc: 'Affordable luxury', icon: 'üí∞' }
            ]
        },
        'ship-luxury': {
            title: 'Luxury Ships',
            options: [
                { label: 'All-Inclusive', value: 'inclusive', desc: 'Everything included', icon: 'üçæ' },
                { label: 'Small Ship', value: 'small', desc: 'Intimate, boutique', icon: '‚õµ' },
                { label: 'Ultra-Luxury', value: 'ultra', desc: 'Highest level service', icon: 'üíé' },
                { label: 'Expedition Luxury', value: 'expedition', desc: 'Adventure meets elegance', icon: 'üß≠' },
                { label: 'Best Value Luxury', value: 'value', desc: 'Entry-level luxury', icon: 'üí∞' }
            ]
        },
        'ship-adults': {
            title: 'Adults-Only Ships',
            options: [
                { label: 'Romantic Escape', value: 'romantic', desc: 'Couples-focused', icon: 'üíë' },
                { label: 'Party & Nightlife', value: 'party', desc: 'Virgin Voyages vibe', icon: 'üéâ' },
                { label: 'Wellness Focus', value: 'wellness', desc: 'Spa, fitness, yoga', icon: 'üßò' },
                { label: 'Quiet Relaxation', value: 'quiet', desc: 'Peaceful, serene', icon: 'üòå' },
                { label: 'Social Atmosphere', value: 'social', desc: 'Meet new people', icon: 'üçπ' },
                { label: 'Best Value', value: 'value', desc: 'Affordable adults-only', icon: 'üí∞' }
            ]
        },
        
        // ============================================================
        // CRUISE STYLES DECK - 6 CATEGORIES (NEW - replaces Travelers)
        // ============================================================
        'style-family': {
            title: 'Family Vacations',
            options: [
                { label: 'Young Kids (0-8)', value: 'youngkids', desc: 'Nurseries, splash pads', icon: 'üë∂' },
                { label: 'Tweens & Teens', value: 'tweens', desc: 'Age-specific programs', icon: 'üßí' },
                { label: 'Multi-Generational', value: 'multigen', desc: 'Grandparents included', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶' },
                { label: 'Single Parent', value: 'singleparent', desc: 'Solo parent resources', icon: 'üë©‚Äçüëß' },
                { label: 'Budget Family', value: 'budget', desc: 'Affordable for families', icon: 'üí∞' }
            ]
        },
        'style-romantic': {
            title: 'Romantic Getaways',
            options: [
                { label: 'Honeymoon', value: 'honeymoon', desc: 'Post-wedding bliss', icon: 'üíí' },
                { label: 'Anniversary', value: 'anniversary', desc: 'Celebrate milestones', icon: 'ü•Ç' },
                { label: 'Adults-Only Ships', value: 'adultsonly', desc: 'No kids, pure romance', icon: 'üíë' },
                { label: 'Luxury Romance', value: 'luxury', desc: 'Suite experiences', icon: '‚ú®' },
                { label: 'Budget Romance', value: 'budget', desc: 'Love on a budget', icon: 'üí∞' }
            ]
        },
        'style-adventure': {
            title: 'Adventure Seekers',
            options: [
                { label: 'Active Excursions', value: 'active', desc: 'Hiking, biking, zip-lining', icon: 'üöµ' },
                { label: 'Expedition Cruising', value: 'expedition', desc: 'Remote destinations', icon: 'üß≠' },
                { label: 'Eco-Tourism', value: 'eco', desc: 'Wildlife, conservation', icon: 'üåø' },
                { label: 'Water Sports', value: 'watersports', desc: 'Diving, snorkeling, kayaking', icon: 'ü§ø' },
                { label: 'Budget Adventures', value: 'budget', desc: 'Affordable excitement', icon: 'üí∞' }
            ]
        },
        'style-relaxation': {
            title: 'Relaxation & Wellness',
            options: [
                { label: 'Spa Focus', value: 'spa', desc: 'Treatments, thermal suites', icon: 'üíÜ' },
                { label: 'Fitness Programs', value: 'fitness', desc: 'Gyms, classes, training', icon: 'üèãÔ∏è' },
                { label: 'Quiet Retreats', value: 'quiet', desc: 'Adults-only, peaceful', icon: 'üòå' },
                { label: 'Healthy Dining', value: 'healthy', desc: 'Wellness menus, options', icon: 'ü•ó' },
                { label: 'Budget Wellness', value: 'budget', desc: 'Relaxation on a budget', icon: 'üí∞' }
            ]
        },
        'style-casino': {
            title: 'Casino & Nightlife',
            options: [
                { label: 'Casino Gaming', value: 'casino', desc: 'Tables, slots, poker', icon: 'üé∞' },
                { label: 'Nightclubs & Bars', value: 'nightclubs', desc: 'Dance floors, DJs', icon: 'üç∏' },
                { label: 'Live Entertainment', value: 'entertainment', desc: 'Shows, comedy, music', icon: 'üé§' },
                { label: 'VIP Programs', value: 'vip', desc: 'Players clubs, perks', icon: 'üëë' },
                { label: 'Best Value', value: 'value', desc: 'Party without breaking bank', icon: 'üí∞' }
            ]
        },
        'style-solo': {
            title: 'Solo Travelers',
            options: [
                { label: 'Solo Cabins Available', value: 'solocabins', desc: 'Norwegian Studios, dedicated spaces', icon: 'üö™' },
                { label: 'Budget Solo Travel', value: 'budget', desc: 'Avoid solo supplements', icon: 'üí∞' },
                { label: 'Meet Other Solos', value: 'social', desc: 'Mixers, group dining', icon: 'ü§ù' },
                { label: 'Safe & Comfortable', value: 'safe', desc: 'Solo-friendly policies', icon: 'üõ°Ô∏è' },
                { label: 'Shore Excursions for Solos', value: 'excursions', desc: 'Group tours, solo options', icon: 'üó∫Ô∏è' }
            ]
        }
    };

    let activeTriggerElement = null;

    // =================================================================
    // MODAL FUNCTIONS
    // =================================================================
    function openModal(category) {
        const data = modalData[category.toLowerCase()];
        if (!data) {
            console.error('No modal data for category:', category);
            return;
        }

        activeTriggerElement = document.activeElement;
        
        const modal = document.getElementById('followup-modal');
        const title = document.getElementById('modal-title');
        const grid = document.getElementById('modal-options-grid');
        const skipName = document.getElementById('skip-category-name');

        // Update Content
        title.innerHTML = `Great choice! Want to narrow your <span class="text-lagoon">${data.title}</span> search?`;
        skipName.innerText = data.title;
        
        // Build Options with Icons
        grid.innerHTML = '';
        data.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = "modal-option-btn p-6 bg-sand hover:bg-mist hover:border-lagoon border-2 border-transparent rounded-2xl text-left transition-all group focus:ring-4 focus:ring-coral";
            btn.onclick = () => goToResults(`${category.toLowerCase()}-${opt.value}`);
            btn.setAttribute('aria-label', `${opt.label}: ${opt.desc}`);
            btn.innerHTML = `
                <span class="block text-3xl mb-2">${opt.icon}</span>
                <span class="block font-black text-azure uppercase tracking-wider text-sm mb-1 group-hover:translate-x-1 transition-transform">${opt.label}</span>
                <span class="block text-xs text-slate/60 font-medium">${opt.desc}</span>
            `;
            grid.appendChild(btn);
        });

        // Show Modal
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        
        // ADA: Trap Focus
        modal.addEventListener('keydown', trapFocus);
        
        // Focus first interactive element
        const firstBtn = grid.querySelector('button');
        if(firstBtn) firstBtn.focus();
    }

    function closeModal() {
        const modal = document.getElementById('followup-modal');
        modal.classList.add('hidden');
        document.body.style.overflow = 'auto';
        modal.removeEventListener('keydown', trapFocus);
        
        // ADA: Return focus to trigger
        if(activeTriggerElement) activeTriggerElement.focus();
    }

    function goToResults(query) {
        // In production: window.location.href = `results-${query}.html`;
        console.log(`Navigating to: results-${query}.html`);
        alert(`Would navigate to: results-${query}.html\n\n(Page not created yet - this is demo mode)`);
        closeModal();
    }

    // ADA: Focus Trap Logic
    function trapFocus(e) {
        const modal = document.getElementById('followup-modal');
        const focusableEls = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        const firstFocusable = focusableEls[0];
        const lastFocusable = focusableEls[focusableEls.length - 1];

        if (e.key === 'Tab') {
            if (e.shiftKey) {
                if (document.activeElement === firstFocusable) {
                    e.preventDefault();
                    lastFocusable.focus();
                }
            } else {
                if (document.activeElement === lastFocusable) {
                    e.preventDefault();
                    firstFocusable.focus();
                }
            }
        }
        if (e.key === 'Escape') {
            closeModal();
        }
    }

    // Event Listeners for Modal
    document.getElementById('followup-modal').addEventListener('click', function(e) {
        if (e.target === this) closeModal();
    });

    // =================================================================
    // ATTACH MODAL TO ALL CATEGORY CARDS (UPDATED FOR NEW TAXONOMY)
    // =================================================================
    document.addEventListener('DOMContentLoaded', () => {
        // Destinations Deck - 6 categories
        const destinations = ['caribbean-mexico', 'mediterranean', 'bahamas', 'alaska', 'canada-newengland', 'pacific-coast'];
        destinations.forEach(dest => {
            const card = document.getElementById(`card-${dest}`);
            if(card) {
                card.addEventListener('click', (e) => {
                    e.preventDefault();
                    openModal(dest);
                });
            }
        });

        // Ships Deck - 6 categories
        const ships = ['ship-family', 'ship-mega', 'ship-midsize', 'ship-premium', 'ship-luxury', 'ship-adults'];
        ships.forEach(ship => {
            const card = document.getElementById(`card-${ship}`);
            if(card) {
                card.addEventListener('click', (e) => {
                    e.preventDefault();
                    openModal(ship);
                });
            }
        });

        // Cruise Styles Deck - 6 categories (NEW)
        const styles = ['style-family', 'style-romantic', 'style-adventure', 'style-relaxation', 'style-casino', 'style-solo'];
        styles.forEach(style => {
            const card = document.getElementById(`card-${style}`);
            if(card) {
                card.addEventListener('click', (e) => {
                    e.preventDefault();
                    openModal(style);
                });
            }
        });
    });

    // =================================================================
    // EXISTING SITE FUNCTIONALITY (UNCHANGED)
    // =================================================================
    
    function switchTab(tabId) {
        // Hide all tabs and deactivate all buttons
        ['destinations', 'ships', 'styles'].forEach(id => {
            const btn = document.getElementById('btn-' + id);
            const content = document.getElementById('tab-' + id);
            const allBtn = document.getElementById(id + '-all-btn');
            if(btn && content) {
                btn.className = "px-10 py-4 rounded-2xl font-black text-xs text-azure/50 hover:text-azure transition-all uppercase tracking-[0.2em]";
                content.classList.add('hidden');
                content.classList.remove('active-tab-grid');
                btn.setAttribute('aria-selected', 'false');
            }
            if(allBtn) {
                allBtn.classList.add('hidden');
                allBtn.classList.remove('flex');
            }
        });
        
        // Activate selected tab
        const activeBtn = document.getElementById('btn-' + tabId);
        const activeContent = document.getElementById('tab-' + tabId);
        const activeAllBtn = document.getElementById(tabId + '-all-btn');
        if(activeBtn && activeContent) {
            activeBtn.className = "px-10 py-4 rounded-2xl font-black text-xs bg-azure text-white shadow-xl uppercase tracking-[0.2em] transition-all";
            activeContent.classList.remove('hidden');
            activeContent.classList.add('active-tab-grid');
            activeBtn.setAttribute('aria-selected', 'true');
            
            // Update deck label
            const labelMap = { 'destinations': 'Destinations', 'ships': 'Ships', 'styles': 'Cruise Styles' };
            document.getElementById('deck-label').innerText = `Active Deck: ${labelMap[tabId] || tabId}`;
        }
        if(activeAllBtn) {
            activeAllBtn.classList.remove('hidden');
            activeAllBtn.classList.add('flex');
        }
    }

    async function updateUI(location) {
        try {
            const res = await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${API_KEY}&q=${location}&days=5`);
            const d = await res.json();
            
            // Safe helper to prevent crashes if elements are missing
            const setText = (id, text) => {
                const el = document.getElementById(id);
                if (el) el.innerText = text;
            };

            currentLocationName = d.location.name;
            setText('hub-city', d.location.name.toUpperCase());
            setText('temp-val', `${Math.round(d.current.temp_f)}¬∞`);
            setText('condition-text', d.current.condition.text.toUpperCase());
            
            // Update Desktop (if exists)
            setText('wind-val', `${Math.round(d.current.wind_mph)} MPH`);
            setText('uv-val', d.current.uv);

            // Update Mobile (if exists)
            setText('wind-val-mobile', `${Math.round(d.current.wind_mph)} MPH`);
            setText('uv-val-mobile', d.current.uv);

            const days = d.forecast.forecastday;
            for(let i=0; i<5; i++) {
                const day = days[i];
                const dateEl = document.getElementById(`f${i+1}-date`);
                const iconEl = document.getElementById(`f${i+1}-icon`);
                const highEl = document.getElementById(`f${i+1}-high`);
                if(dateEl && iconEl && highEl) {
                    dateEl.innerText = i === 0 ? "Today" : new Date(day.date + 'T00:00:00').toLocaleDateString('en-US', { weekday: 'short' });
                    highEl.innerText = Math.round(day.day.maxtemp_f);
                    const c = day.day.condition.text.toLowerCase();
                    iconEl.innerText = c.includes('sun') || c.includes('clear') ? '‚òÄÔ∏è' : (c.includes('rain') ? 'üåßÔ∏è' : '‚òÅÔ∏è');
                }
            }
        } catch (err) { console.error(err); /* Fallback disabled */ }
    }
    
    function fetchByPort() { const q = document.getElementById('port-search').value; if (q) updateUI(q); }
    function fetchByGPS() { if (navigator.geolocation) { navigator.geolocation.getCurrentPosition((p) => { updateUI(`${p.coords.latitude},${p.coords.longitude}`); }); } }
    function openWeatherDeepLink() { window.open(`https://www.google.com/search?q=weather+${encodeURIComponent(currentLocationName)}`, '_blank'); }
    function scrollFleet(dir) {
        const s = document.getElementById('slider');
        const scrollAmount = 368; 
        s.scrollBy({ left: dir * scrollAmount, behavior: 'smooth' });
    }
    
    // INFINITE SCROLL & DRAG LOGIC
    const slider = document.getElementById('slider');
    const originalCards = Array.from(slider.children);
    const prefixFragment = document.createDocumentFragment();
    const suffixFragment = document.createDocumentFragment();
    
    originalCards.forEach(card => {
        prefixFragment.appendChild(card.cloneNode(true));
        suffixFragment.appendChild(card.cloneNode(true));
    });
    
    slider.prepend(prefixFragment);
    slider.append(suffixFragment);

    let isDown = false, startX, scrollLeft;
    let hasMoved = false;

    slider.addEventListener('mousedown', (e) => { 
        isDown = true; 
        hasMoved = false; 
        startX = e.pageX - slider.offsetLeft; 
        scrollLeft = slider.scrollLeft; 
    });
    
    slider.addEventListener('mouseleave', () => { isDown = false; });
    slider.addEventListener('mouseup', () => { isDown = false; });
    
    slider.addEventListener('mousemove', (e) => { 
        if (!isDown) return; 
        e.preventDefault(); 
        hasMoved = true;    
        const x = (e.pageX - slider.offsetLeft - startX) * 2; 
        slider.scrollLeft = scrollLeft - x; 
    });

    slider.addEventListener('click', (e) => {
        const link = e.target.closest('a');
        if (link && hasMoved) {
            e.preventDefault();
            e.stopImmediatePropagation(); 
        }
    });

    const handleInfiniteScroll = () => {
        const setWidth = slider.scrollWidth / 3;
        if (slider.scrollLeft <= 50) { 
             slider.scrollLeft += setWidth;
        } else if (slider.scrollLeft >= (setWidth * 2) - 50) { 
             slider.scrollLeft -= setWidth;
        }
    };

    window.onload = () => { 
        updateUI('auto:ip'); 
        const setWidth = slider.scrollWidth / 3;
        slider.scrollLeft = setWidth;
        slider.addEventListener('scroll', handleInfiniteScroll);
        
        // Remove pulse animation after it completes (2 seconds)
        setTimeout(() => {
            const deckButtons = document.getElementById('deck-buttons-container');
            if(deckButtons) {
                deckButtons.classList.remove('deck-buttons-initial');
            }
        }, 2000);
    };
  </script>
</body>
</html>